
<html><head>
<title>BContour -  BContour </title>
<style type="text/css"><!--
    HTML {
	background: 	#FFFFFF;
	color: 		black;
    }
    BODY {
	background: 	#FFFFFF;
	color:	 	black;
    }
    DIV.doctools {
	margin-left:	10%;
	margin-right:	10%;
    }
    DIV.doctools H1,DIV.doctools H2 {
	margin-left:	-5%;
    }
    H1, H2, H3, H4 {
	margin-top: 	1em;
	font-family:	sans-serif;
	font-size:	large;
	color:		#005A9C;
	background: 	transparent;
	text-align:		left;
    }
    H1.title {
	text-align: center;
    }
    UL,OL {
	margin-right: 0em;
	margin-top: 3pt;
	margin-bottom: 3pt;
    }
    UL LI {
	list-style: disc;
    }
    OL LI {
	list-style: decimal;
    }
    DT {
	padding-top: 	1ex;
    }
    UL.toc,UL.toc UL, UL.toc UL UL {
	font:		normal 12pt/14pt sans-serif;
	list-style:	none;
    }
    LI.section, LI.subsection {
	list-style: 	none;
	margin-left: 	0em;
	text-indent:	0em;
	padding: 	0em;
    }
    PRE {
	display: 	block;
	font-family:	monospace;
	white-space:	pre;
	margin:		0%;
	padding-top:	0.5ex;
	padding-bottom:	0.5ex;
	padding-left:	1ex;
	padding-right:	1ex;
	width:		100%;
    }
    PRE.example {
	color: 		black;
	background: 	#f5dcb3;
	border:		1px solid black;
    }
    UL.requirements LI, UL.syntax LI {
	list-style: 	none;
	margin-left: 	0em;
	text-indent:	0em;
	padding:	0em;
    }
    DIV.synopsis {
	color: 		black;
	background: 	#80ffff;
	border:		1px solid black;
	font-family:	serif;
	margin-top: 	1em;
	margin-bottom: 	1em;
    }
    UL.syntax {
	margin-top: 	1em;
	border-top:	1px solid black;
    }
    UL.requirements {
	margin-bottom: 	1em;
	border-bottom:	1px solid black;
    }
--></style>
</head>
<! -- Generated from file 'BContour.man' by tcllib/doctools with format 'html'
   -->
<! -- Copyright &copy; 2014, by A.Buratti
   -->
<! -- CVS: $Id$ BContour.n
   -->
<body><div class="doctools">
<h1 class="title">BContour(n) 1.1  &quot; BContour &quot;</h1>
<div id="name" class="section"><h2><a name="name">Name</a></h2>
<p>BContour - a BContour is a sequences of connected Bezier curves, not necessarily a closed contour.</p>
</div>
<div id="toc" class="section"><h2><a name="toc">Table Of Contents</a></h2>
<ul class="toc">
<li class="section"><a href="#toc">Table Of Contents</a></li>
<li class="section"><a href="#synopsis">Synopsis</a></li>
<li class="section"><a href="#section1">Description</a></li>
<li class="section"><a href="#section2">INTRODUCTION</a></li>
<li class="section"><a href="#section3">COMMANDS</a></li>
<li class="section"><a href="#section4">METHODS</a></li>
<li class="section"><a href="#section5">DEPRECATED METHODS</a></li>
<li class="section"><a href="#see-also">See Also</a></li>
<li class="section"><a href="#keywords">Keywords</a></li>
<li class="section"><a href="#category">Category</a></li>
<li class="section"><a href="#copyright">Copyright</a></li>
</ul>
</div>
<div id="synopsis" class="section"><h2><a name="synopsis">Synopsis</a></h2>
<div class="synopsis">
<ul class="requirements">
<li>package require <b class="pkgname">Itcl</b></li>
<li>package require <b class="pkgname">Bezier <span class="opt">?1.1?</span></b></li>
<li>package require <b class="pkgname">BContour <span class="opt">?1.1?</span></b></li>
</ul>
<ul class="syntax">
<li><a href="#1"><b class="cmd">::BContour::new</b> <i class="arg">point</i></a></li>
<li><a href="#2"><i class="arg">bcObj</i> <b class="method">append</b> <i class="arg">point</i> <i class="arg">...</i></a></li>
<li><a href="#3"><i class="arg">bcObj</i> <b class="method">destroy</b></a></li>
<li><a href="#4"><i class="arg">bcObj</i> <b class="method">strokes</b> <i class="arg">i</i></a></li>
<li><a href="#5"><i class="arg">bcObj</i> <b class="method">strokes</b></a></li>
<li><a href="#6"><i class="arg">bcObj</i> <b class="method">isclosed</b></a></li>
<li><a href="#7"><i class="arg">bcObj</i> <b class="method">isContinuityC1</b> <i class="arg">i</i></a></li>
<li><a href="#8"><i class="arg">bcObj</i> <b class="method">length</b> <span class="opt">?<b class="const">-tolerance</b> <i class="arg">tolerance</i>?</span></a></li>
<li><a href="#9"><i class="arg">bcObj</i> <b class="method">onUniformDistance</b> <i class="arg">dl</i> <i class="arg">kind</i> <span class="opt">?<b class="const">-tolerance</b> <i class="arg">tolerance</i>?</span></a></li>
<li><a href="#10"><i class="arg">bzObj</i> <b class="method">flatnesstolerance</b></a></li>
<li><a href="#11"><i class="arg">bzObj</i> <b class="method">flatnesstolerance</b> <i class="arg">val</i></a></li>
</ul>
</div>
</div>
<div id="section1" class="section"><h2><a name="section1">Description</a></h2>
</div>
<div id="section2" class="section"><h2><a name="section2">INTRODUCTION</a></h2>
<p>A BContour is a sequences of connected Bezier curves. 
Aim of this package is to provide a method for splitting the contour
in sub-curves with the same length.
A BContour is built by appending contiguos Bezier curves (also called <em>strokes</em>);
In order to be able to split the contour in uniform-length sub-curves, and also to
be able to preserve its 'shape', this package introduces the notion of C1-continuity:
if two contiguos strokes have, in their joining point, the same prime derivative, then
the two strokes are grouped, so that they could be split better.</p>
</div>
<div id="section3" class="section"><h2><a name="section3">COMMANDS</a></h2>
<p>A <b class="class">BContour</b> is built by first setting its initial point, then by repeatedly <b class="cmd">append</b>ing
all the control-points of the Bezier curves, without repeating the control-points in common.</p>
<dl class="definitions">
<dt><a name="1"><b class="cmd">::BContour::new</b> <i class="arg">point</i></a></dt>
<dd><p>returns the (fully qualified) name of a new object representing a BContour.
Object is created in the caller's namespace.</p></dd>
</dl>
</div>
<div id="section4" class="section"><h2><a name="section4">METHODS</a></h2>
<p>The following commands are possible for a BContour-object:</p>
<dl class="definitions">
  
<dt><a name="2"><i class="arg">bcObj</i> <b class="method">append</b> <i class="arg">point</i> <i class="arg">...</i></a></dt>
<dd><p>adds to the BContour a new Bezier curve, i.e all its control-points BUT the first (since it is already stored).
All points of a BContour must have the same dimension.</p>
<pre class="example">
   # creates a new contour: set the initial point  (this is a 2D contour)&quot;
   set f [BContour::new {1 2} ]
   $f append {3 4} {5 6}  ;# a degree:2 curve  (Quadratic Bezier)
   $f append {20 0}       ;# a degree:1 curve  (straight segment)
   $f append {25 -9} {0 -15} {-1 33.3} {-15.32 3.0} ;# a degree:4 curve
</pre>
</dd>
<dt><a name="3"><i class="arg">bcObj</i> <b class="method">destroy</b></a></dt>
<dd><p>destroys the object, including its storage space and associated command.</p></dd>
<dt><a name="4"><i class="arg">bcObj</i> <b class="method">strokes</b> <i class="arg">i</i></a></dt>
<dd><p>returns the list of control-points of the <i class="arg">i</i>-th stroke. Argument <i class="arg">i</i> can be a
an integer, as well as &quot;end&quot;, &quot;end-1&quot;, ...</p></dd>
<dt><a name="5"><i class="arg">bcObj</i> <b class="method">strokes</b></a></dt>
<dd><p>returns the list of all the strokes, i.e. a list of list of control-points.</p></dd>
<dt><a name="6"><i class="arg">bcObj</i> <b class="method">isclosed</b></a></dt>
<dd><p>returns true if the contour is closed.</p></dd>
<dt><a name="7"><i class="arg">bcObj</i> <b class="method">isContinuityC1</b> <i class="arg">i</i></a></dt>
<dd><p>returns true if the <i class="arg">i</i>-th stroke and next stroke are C1-continuos (prime derivate collinear).
If <i class="arg">i</i> is the last stroke and the contour is closed, then the first stroke is used as the <i class="arg">next</i> stroke.</p></dd>
<dt><a name="8"><i class="arg">bcObj</i> <b class="method">length</b> <span class="opt">?<b class="const">-tolerance</b> <i class="arg">tolerance</i>?</span></a></dt>
<dd><p>returns the (approximated) length of the contour.
Approximation is controlled by the <i class="arg">tolerance</i> value.
You can change the default value for <i class="arg">tolerance</i> by setting the global
variable <b class="const">BContour::Default(-tolerance)</b>.</p></dd>
<dt><a name="9"><i class="arg">bcObj</i> <b class="method">onUniformDistance</b> <i class="arg">dl</i> <i class="arg">kind</i> <span class="opt">?<b class="const">-tolerance</b> <i class="arg">tolerance</i>?</span></a></dt>
<dd><p>splits the whole contour in sub-curves each having a curve-length of (about) <i class="arg">dL</i>.
Note that the initial <i class="arg">dL</i> is internally 'rounded', so that
it divides each sequence of curves with C1-continuity in N parts of length dL*</p>
<p>WARNING: the last point (t=1) is NOT returned.</p>
<p>Result depends on the <i class="arg">kind</i> parameter:
For <i class="arg">kind</i> <b class="method">at</b>,<b class="method">tangent_at</b>,<b class="method">normal_at</b>, result is a list of points
and the last point is NOT returned.</p>
<p>For <i class="arg">kind</i> <b class="method">vtangent_at</b>,<b class="method">vnormal_at</b>, result is a list of segments (pairs of points), each of lenght <i class="arg">dL</i>/2</p>
<p>Approximation is controlled by the <i class="arg">tolerance</i> value.
You can change the default value for <i class="arg">tolerance</i> by setting the global
variable <b class="const">BContour::Default(-tolerance)</b>.</p></dd>
</dl>
</div>
<div id="section5" class="section"><h2><a name="section5">DEPRECATED METHODS</a></h2>
<p>Method <b class="method">flatnesstolerance</b> is still supported but deprecated; You should use
the  <b class="const">-tolerance</b> option when calling the <b class="method">length</b> or 
<b class="method">onUniformDistance</b>, or change the default value by setting
the <b class="const">Bezier::Default(-tolerance)</b> variable.</p>
<p>Method <b class="method">flatnesstolerance</b> may still be called, but it has no effect.</p>
<dl class="definitions">
<dt><a name="10"><i class="arg">bzObj</i> <b class="method">flatnesstolerance</b></a></dt>
<dd></dd>
<dt><a name="11"><i class="arg">bzObj</i> <b class="method">flatnesstolerance</b> <i class="arg">val</i></a></dt>
<dd></dd>
</dl>
</div>
<div id="see-also" class="section"><h2><a name="see-also">See Also</a></h2>
<p><b class="package">Bezier</b></p>
</div>
<div id="keywords" class="section"><h2><a name="keywords">Keywords</a></h2>
<p><b class="package">Itcl</b>, math</p>
</div>
<div id="category" class="section"><h2><a name="category">Category</a></h2>
<p>math</p>
</div>
<div id="copyright" class="section"><h2><a name="copyright">Copyright</a></h2>
<p>Copyright &copy; 2014, by A.Buratti</p>
</div>
</div></body></html>   

